"""
한국어 프롬프트 로케일
자평진전 전통 용어, 한자 병기, 존댓말
"""
from typing import Dict


class KoreanLocale:
    """한국어 로케일 프롬프트"""

    LANGUAGE_CODE = 'ko'
    LANGUAGE_NAME = '한국어'

    # 톤 & 스타일
    TONE = "권위 있되 친근한, 존댓말 사용"

    # 용어 스타일
    TERMINOLOGY_STYLE = "한자 병기 (예: 일간(日干), 용신(用神))"

    # 고전 인용 스타일
    CLASSICAL_QUOTE_STYLE = "원문 한문 + 현대어 해석"

    # 십신 용어
    TEN_GODS: Dict[str, str] = {
        "bijian": "비견(比肩)",
        "jiecai": "겁재(劫財)",
        "shishen": "식신(食神)",
        "shangguan": "상관(傷官)",
        "zhengcai": "정재(正財)",
        "piancai": "편재(偏財)",
        "zhengguan": "정관(正官)",
        "qisha": "편관(偏官)/칠살(七殺)",
        "zhengyin": "정인(正印)",
        "pianyin": "편인(偏印)/효신(梟神)",
    }

    # 오행 용어
    ELEMENTS: Dict[str, str] = {
        "wood": "목(木)",
        "fire": "화(火)",
        "earth": "토(土)",
        "metal": "금(金)",
        "water": "수(水)",
    }

    # 집중 영역 라벨
    FOCUS_AREA_LABELS: Dict[str, str] = {
        "wealth": "재물운",
        "love": "연애운",
        "career": "직장운",
        "health": "건강운",
        "overall": "종합운",
    }

    # 분석 영역 설명
    FOCUS_AREA_DESCRIPTIONS: Dict[str, str] = {
        "wealth": "재물 흐름, 투자 시기, 재테크 방향을 상세히 분석합니다.",
        "love": "인연의 시기, 이상형, 관계 개선 방법을 분석합니다.",
        "career": "적성, 이직 시기, 승진 가능성을 분석합니다.",
        "health": "취약 장기, 건강 관리법, 주의 시기를 분석합니다.",
        "overall": "인생 전반의 흐름과 방향성을 종합 분석합니다.",
    }

    @classmethod
    def get_system_instruction(cls) -> str:
        """한국어 시스템 지시문"""
        return """
## 언어 및 스타일 규칙

### 언어
- 모든 응답은 한국어로 작성합니다
- 존댓말(~합니다, ~입니다)을 사용합니다

### 전문 용어
- 한자를 병기합니다 (예: 일간(日干), 용신(用神), 격국(格局))
- 처음 등장하는 용어에만 한자를 병기하고, 이후에는 한글만 사용합니다

### 고전 인용
- 자평진전, 궁통보감 등 고전 인용 시 원문(한문)과 현대어 해석을 함께 제공합니다
- 예: "甲木參天, 脱胎要火" - 갑목이 하늘에 닿으니, 탈태하려면 화가 필요하다

### 톤 & 매너
- 권위 있으면서도 친근한 톤을 유지합니다
- 미신적이거나 불안을 조장하는 표현을 피합니다
- "~할 것이다" 대신 "~할 가능성이 높습니다", "~하는 경향이 있습니다" 등 완곡한 표현을 사용합니다
- 부정적인 내용도 발전 방향과 함께 제시합니다
  - 나쁜 예: "건강이 나빠질 것입니다"
  - 좋은 예: "건강 관리에 더 신경 쓰시면 좋겠습니다. 특히 소화기 계통을 주의하시고..."

### 조언 스타일
- 구체적이고 실행 가능한 조언을 제공합니다
- 막연한 조언 대신 시기, 방법, 방향을 명시합니다
  - 나쁜 예: "좋은 일이 생길 것입니다"
  - 좋은 예: "올해 하반기, 특히 9-10월에 새로운 기회가 올 수 있습니다. 이 시기에 적극적으로 네트워킹하시면..."
"""

    @classmethod
    def get_pillars_format(cls) -> str:
        """사주 팔자 표시 형식"""
        return """
## 사주 팔자 표시 형식

사주 정보를 다음과 같이 표시합니다:

### 사주 팔자 (四柱八字)
| 시주(時柱) | 일주(日柱) | 월주(月柱) | 연주(年柱) |
|:----------:|:----------:|:----------:|:----------:|
| {시간} | {일간}★ | {월간} | {연간} |
| {시지} | {일지} | {월지} | {연지} |

★ 일간(日干)이 '나' 자신입니다.
"""

    @classmethod
    def get_analysis_structure(cls) -> str:
        """분석 구조 가이드"""
        return """
## 분석 구조

1. **핵심 요약** (2-3문장)
   - 이 사주의 가장 큰 특징과 강점

2. **성격 분석**
   - 일간의 특성
   - 주요 성격 키워드 3-5개
   - 장점과 보완점

3. **영역별 분석** (재물/연애/직장/건강)
   - 각 영역별 점수 (0-100)
   - 상세 분석
   - 구체적 조언

4. **연도별 운세** (5년)
   - 각 연도별 테마
   - 점수와 핵심 조언

5. **고전 인용** (1-3개)
   - 출처
   - 원문
   - 현대적 해석
"""

    @classmethod
    def build(cls) -> str:
        """한국어 로케일 전체 프롬프트"""
        parts = [
            cls.get_system_instruction(),
            cls.get_pillars_format(),
            cls.get_analysis_structure(),
        ]

        return "\n".join(parts)
