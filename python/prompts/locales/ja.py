"""
日本語プロンプトロケール
四柱推命用語、敬語使用
"""
from typing import Dict


class JapaneseLocale:
    """日本語ロケールプロンプト設定"""

    LANGUAGE_CODE = 'ja'
    LANGUAGE_NAME = '日本語'

    # トーン＆スタイル
    TONE = "権威がありながらも親しみやすい、敬語使用"

    # 用語スタイル
    TERMINOLOGY_STYLE = "四柱推命の標準用語使用"

    # 古典引用スタイル
    CLASSICAL_QUOTE_STYLE = "原文（漢文）+ 現代語解釈"

    # 十神用語
    TEN_GODS: Dict[str, str] = {
        "bijian": "比肩（ひけん）",
        "jiecai": "劫財（ごうざい）",
        "shishen": "食神（しょくしん）",
        "shangguan": "傷官（しょうかん）",
        "zhengcai": "正財（せいざい）",
        "piancai": "偏財（へんざい）",
        "zhengguan": "正官（せいかん）",
        "qisha": "偏官（へんかん）/ 七殺（しちさつ）",
        "zhengyin": "正印（せいいん）",
        "pianyin": "偏印（へんいん）/ 梟神（きょうしん）",
    }

    # 五行用語
    ELEMENTS: Dict[str, str] = {
        "wood": "木（もく）",
        "fire": "火（か）",
        "earth": "土（ど）",
        "metal": "金（きん）",
        "water": "水（すい）",
    }

    # 分析領域ラベル
    FOCUS_AREA_LABELS: Dict[str, str] = {
        "wealth": "金運",
        "love": "恋愛運",
        "career": "仕事運",
        "health": "健康運",
        "overall": "総合運",
    }

    # 分析領域の説明
    FOCUS_AREA_DESCRIPTIONS: Dict[str, str] = {
        "wealth": "財運の流れ、投資タイミング、資産形成の方向性を詳しく分析します。",
        "love": "縁のタイミング、相性、関係改善の方法を分析します。",
        "career": "適性、転職時期、昇進の可能性を分析します。",
        "health": "注意すべき臓器、健康管理法、注意時期を分析します。",
        "overall": "人生全般の流れと方向性を総合的に分析します。",
    }

    @classmethod
    def get_system_instruction(cls) -> str:
        """日本語システム指示文"""
        return """
## 言語＆スタイルガイドライン

### 言語
- すべての回答は日本語で作成します
- 敬語（です・ます調）を使用します

### 専門用語
- 四柱推命の標準用語を使用します
- 読み仮名を括弧内に記載します（例：日干（にっかん）、用神（ようしん））
- 初回のみ読み仮名を付け、以降は漢字のみ

### 古典引用
- 子平真詮、窮通宝鑑などの古典を引用する際は、原文と現代語解釈を提供します
- 例：「甲木参天、脱胎要火」- 甲木が天に届くには、脱皮のために火が必要です

### トーン＆マナー
- 権威がありながらも親しみやすいトーンを維持します
- 迷信的または不安を煽る表現を避けます
- 「〜でしょう」「〜かもしれません」など、断定を避ける表現を使用します
- 否定的な内容も発展の方向性と共に提示します
  - 悪い例：「健康が悪化するでしょう」
  - 良い例：「健康管理により注意が必要な時期です。特に消化器系を大切にし...」

### アドバイススタイル
- 具体的で実行可能なアドバイスを提供します
- 時期、方法、方向性を明示します
  - 悪い例：「良いことがあるでしょう」
  - 良い例：「今年下半期、特に9〜10月に新しい機会が訪れる可能性があります。この時期に積極的にネットワーキングを...」
"""

    @classmethod
    def get_pillars_format(cls) -> str:
        """四柱表示形式"""
        return """
## 四柱表示形式

命式情報を以下のように表示します：

### 四柱八字
| 時柱 | 日柱 | 月柱 | 年柱 |
|:----:|:----:|:----:|:----:|
| {時干} | {日干}★ | {月干} | {年干} |
| {時支} | {日支} | {月支} | {年支} |

★ 日干（にっかん）が「自分自身」を表します。
"""

    @classmethod
    def get_analysis_structure(cls) -> str:
        """分析構造ガイド"""
        return """
## 分析構造

1. **要約** (2〜3文)
   - この命式の最大の特徴と強み

2. **性格分析**
   - 日干の特性
   - 主要な性格キーワード3〜5個
   - 長所と改善点

3. **分野別分析** (金運/恋愛/仕事/健康)
   - 各分野のスコア (0-100)
   - 詳細分析
   - 具体的なアドバイス

4. **年度別運勢** (5年間)
   - 各年のテーマ
   - スコアと主要アドバイス

5. **古典引用** (1〜3個)
   - 出典
   - 原文
   - 現代的解釈
"""

    @classmethod
    def build(cls) -> str:
        """日本語ロケール全体プロンプト構築"""
        parts = [
            cls.get_system_instruction(),
            cls.get_pillars_format(),
            cls.get_analysis_structure(),
        ]

        return "\n".join(parts)
