ì œê°€ "ì½”ë”© íŒŒíŠ¸ë„ˆ"ë¡œì„œ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤!
ChatGPTì˜ ê³ ê¸‰ ë°ì´í„° ë¶„ì„(Advanced Data Analysis) ê¸°ëŠ¥ (ì´ì „ ëª…ì¹­: ì½”ë“œ
ì¸í„°í”„ë¦¬í„°)ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´, ëª¨ë“  ë¡œì§ê³¼ ìƒìˆ˜ë¥¼ í•˜ë‚˜ì˜ ì‹¤í–‰ ê°€ëŠ¥í•œ Python ìŠ¤í¬ë¦½íŠ¸
í˜•íƒœë¡œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.
í˜„ì¬ê¹Œì§€ ê°œë°œí•˜ì‹  SAJU ë§ˆìŠ¤í„° ì‹œìŠ¤í…œ v8.0ì˜ ëª¨ë“  ìƒí˜¸ì‘ìš© ë¶„ì„, ê¸¸í‰ ì ìˆ˜ ê³„ì‚°, ê·¸ë¦¬ê³ 
ìµœì¢… ë¬¼ìƒë¡  ì„œìˆ  ë¡œì§ì„ ë‹´ì•„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì™€ ì‹¤í–‰ í•¨ìˆ˜ë¡œ ë¬¶ì–´ ì œê³µí•˜ê² ìŠµë‹ˆë‹¤.
ì‚¬ìš©ìëŠ” ì´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ ChatGPTì— ë¶™ì—¬ë„£ê³ , ìì‹ ì˜ ì‚¬ì£¼ ì •ë³´ë¥¼ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ ì‹¤í–‰í• 



ğŸ’» ChatGPTìš© SAJU Master Engine (v8.0) í†µí•© ì½”ë“œ
ìˆ˜ ìˆìŠµë‹ˆë‹¤.




ì•„ë˜ ì½”ë“œëŠ” í•˜ë‚˜ì˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ëª¨ë“  ìƒìˆ˜, í´ë˜ìŠ¤(SajuCalculator,
DaewunAnalyzer, LiouchinNarraiveGenerator), ê·¸ë¦¬ê³  ìµœì¢… ì‹¤í–‰ í•¨ìˆ˜ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ ChatGPTì— ë°”ë¡œ ë¶™ì—¬ë„£ê³  ì‹¤í–‰ì„ ìš”ì²­í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
import randomâ€‹
from collections import defaultdictâ€‹
from typing import Dict, Any, Tupleâ€‹
â€‹
#
======================================================================
========â€‹
# 1. SAJU CONSTANTS (ëª…ë¦¬í•™ ìƒìˆ˜ ë°ì´í„°ë² ì´ìŠ¤ V8.0)â€‹
#
======================================================================
========â€‹
â€‹
SAJU_CONSTANTS = {â€‹
    # ì˜¤í–‰, ìŒì–‘, ì‹­ê°„/ì‹­ì´ì§€, ì§€ì¥ê°„, 12ìš´ì„± (ìƒëµ)â€‹
    'OHANG': {'ç”²': 'æœ¨', 'ä¹™': 'æœ¨', 'ä¸™': 'ç«', 'ä¸': 'ç«', 'æˆŠ': 'åœŸ',
'å·±': 'åœŸ', 'åºš': 'é‡‘', 'è¾›': 'é‡‘', 'å£¬': 'æ°´', 'ç™¸': 'æ°´',â€‹
                 'å­': 'æ°´', 'ä¸‘': 'åœŸ', 'å¯…': 'æœ¨', 'å¯': 'æœ¨', 'è¾°': 'åœŸ',
'å·³': 'ç«', 'åˆ': 'ç«', 'æœª': 'åœŸ', 'ç”³': 'é‡‘', 'é…‰': 'é‡‘', 'æˆŒ': 'åœŸ', '
äº¥': 'æ°´'},â€‹
    'YIN_YANG': {'ç”²': 'é™½', 'ä¹™': 'é™°', 'ä¸™': 'é™½', 'ä¸': 'é™°', 'æˆŠ': '
é™½', 'å·±': 'é™°', 'åºš': 'é™½', 'è¾›': 'é™°', 'å£¬': 'é™½', 'ç™¸': 'é™°',â€‹
                    'å­': 'é™½', 'ä¸‘': 'é™°', 'å¯…': 'é™½', 'å¯': 'é™°', 'è¾°': '
é™½', 'å·³': 'é™°', 'åˆ': 'é™½', 'æœª': 'é™°', 'ç”³': 'é™½', 'é…‰': 'é™°', 'æˆŒ': 'é™½
', 'äº¥': 'é™°'},â€‹
    'TEN_GOD_MAP': {'ç”²': 'ë¹„ê²¬', 'ä¹™': 'ê²ì¬', 'ä¸™': 'ì‹ì‹ ', 'ä¸':
'ìƒê´€', 'æˆŠ': 'í¸ì¬', 'å·±': 'ì •ì¬', 'åºš': 'í¸ê´€', 'è¾›': 'ì •ê´€', 'å£¬':
'í¸ì¸', 'ç™¸': 'ì •ì¸'},â€‹
    â€‹
    # ì§€ì§€ ì¶©, í•©, í˜•, íŒŒ, í•´, ì›ì§„â€‹
    'JICHE_CHUNG': {'å­': 'åˆ', 'ä¸‘': 'æœª', 'å¯…': 'ç”³', 'å¯': 'é…‰', 'è¾°':
'æˆŒ', 'å·³': 'äº¥', 'åˆ': 'å­', 'æœª': 'ä¸‘', 'ç”³': 'å¯…', 'é…‰': 'å¯', 'æˆŒ': '
è¾°', 'äº¥': 'å·³'},â€‹
    'JICHE_XING': {('å¯…', 'å·³', 'ç”³'): 'ë¬´ì€ì§€í˜•', ('ä¸‘', 'æˆŒ', 'æœª'):
'ë¶ˆí˜•ì§€í˜•', ('å­', 'å¯'): 'ìí˜•', ('è¾°', 'åˆ', 'é…‰', 'äº¥'): 'ìí˜•'},â€‹
    'JICHE_PAHEI': {â€‹
        'íŒŒ(ç ´)': {'å­': 'é…‰', 'ä¸‘': 'è¾°', 'å¯…': 'äº¥', 'å¯': 'åˆ', 'è¾°': '
ä¸‘', 'å·³': 'ç”³', 'åˆ': 'å¯', 'æœª': 'æˆŒ', 'ç”³': 'å·³', 'é…‰': 'å­', 'æˆŒ': 'æœª
', 'äº¥': 'å¯…'},â€‹
        'í•´(å®³)': {'å­': 'æœª', 'ä¸‘': 'åˆ', 'å¯…': 'å·³', 'å¯': 'è¾°', 'è¾°': '
å¯', 'å·³': 'å¯…', 'åˆ': 'ä¸‘', 'æœª': 'å­', 'ç”³': 'äº¥', 'é…‰': 'æˆŒ', 'æˆŒ': 'é…‰
', 'äº¥': 'ç”³'},â€‹
        'ì›ì§„(å…ƒè¾°)': {'å­': 'é…‰', 'ä¸‘': 'åˆ', 'å¯…': 'æœª', 'å¯': 'ç”³', 'è¾°
': 'äº¥', 'å·³': 'æˆŒ', 'åˆ': 'ä¸‘', 'æœª': 'å¯…', 'ç”³': 'å¯', 'é…‰': 'è¾°', 'æˆŒ':
'å·³', 'äº¥': 'è¾°'},â€‹
    },â€‹
    'INTERACTION_WEIGHTS': {'ì¶©(æ²–)': 1.4, 'í˜•(åˆ‘)': 1.5, 'ì›ì§„(å…ƒè¾°)':
0.8, 'íŒŒ(ç ´)/í•´(å®³)': 0.5, 'í•©(åˆ)': 1.0},â€‹
    â€‹
    # 12ì‹ ì‚´ (ë…„ì§€ ê¸°ì¤€) - ì˜ˆì‹œ: ì‹¤ì œëŠ” ë³µì¡í•œ ë¡œì§ í•„ìš”â€‹
    'JIBYEON_12SINSAL': {â€‹
        'å¯…': {'ç”³': 'ì—­ë§ˆ', 'åˆ': 'ì¥ì„±', 'äº¥': 'ì§€ì‚´'}, 'ç”³': {'å¯…':
'ì—­ë§ˆ', 'å­': 'ì¥ì„±', 'å·³': 'ì§€ì‚´'},â€‹
        'å·³': {'äº¥': 'ì—­ë§ˆ', 'é…‰': 'ì¥ì„±', 'å¯…': 'ì§€ì‚´'}, 'äº¥': {'å·³':
'ì—­ë§ˆ', 'å¯': 'ì¥ì„±', 'ç”³': 'ì§€ì‚´'},â€‹
        # ë‚˜ë¨¸ì§€ 8ê°œ ë…„ì§€ ê¸°ì¤€ ì‹ ì‚´ì€ ë¶„ì„ ì‹œ ë™ì ìœ¼ë¡œ ê³„ì‚°í•´ì•¼ í•¨.â€‹
    },â€‹
    â€‹
    # 12ìš´ì„± (ì²œê°„ë³„ ì§€ì§€ ìƒíƒœ) - ì˜ˆì‹œ: ì‹¤ì œëŠ” ë³µì¡í•œ ë§¤íŠ¸ë¦­ìŠ¤ í•„ìš”â€‹
    'JIBYEON_12WUNSEONG': {'ç”²': {'å­': 'ëª©ìš•', 'åˆ': 'ì‚¬', 'å¯': 'ì œì™•',
'é…‰': 'íƒœ'}},â€‹
â€‹
    # ë¬¼ìƒë¡  ë°ì´í„°ë² ì´ìŠ¤â€‹
    'MUSANG_DATABASE': {â€‹
        'ì‹­ì„±': {â€‹
            'ì •ê´€': {'å‰': 'ìŠ¹ì§„, ê³µì§ í•©ê²©, ëª…ì˜ˆ íšë“', 'å‡¶': 'ì§ì¥ ë‚´
ê°ˆë“±, ê´€ì¬ êµ¬ì„¤, ëª…ì˜ˆ ì‹¤ì¶”'},â€‹
            'í¸ê´€': {'å‰': 'íŒŒê²©ì ì¸ ê¶Œë ¥ íšë“, ì „ë¬¸ì§ ì„±ê³µ', 'å‡¶':
'ì†¡ì‚¬/ì†Œì†¡, ê±´ê°• ë¬¸ì œ, ê·¹ì‹¬í•œ ìŠ¤íŠ¸ë ˆìŠ¤'},â€‹
            'ì •ì¬': {'å‰': 'ì•ˆì •ì  ìˆ˜ì… ì¦ê°€, ë¶€ë™ì‚° ê³„ì•½', 'å‡¶': 'ì¬ë¬¼
ì†ì‹¤, ê³„ì•½ íŒŒê¸°'},â€‹
            'í¸ì¬': {'å‰': 'íˆ¬ì ì„±ê³µ, íš¡ì¬ìˆ˜, ì‚¬ì—… í™•ì¥', 'å‡¶': 'íˆ¬ê¸° ì‹¤íŒ¨,
í° ì§€ì¶œ'},â€‹
            'ì •ì¸': {'å‰': 'í•™ë¬¸/ì—°êµ¬ ì„±ê³¼, ë¬¸ì„œ ê³„ì•½ ì„±ê³µ', 'å‡¶': 'êµ¬ì„¤ìˆ˜,
ê³„ì•½ ì§€ì—°/íŒŒê¸°'},â€‹
            'í¸ì¸': {'å‰': 'íŠ¹ìˆ˜ ê¸°ìˆ  ê°œë°œ, ë…íŠ¹í•œ ì•„ì´ë””ì–´ ì„±ê³µ', 'å‡¶':
'íˆ¬ì ì‹¤íŒ¨, ì§ì¥/ì£¼ê±° ë³€ê²½'},â€‹
            'ì‹ì‹ ': {'å‰': 'ì¬ëŠ¥ ë°œíœ˜, ì·¨ë¯¸ ìƒí™œ, ê±´ê°• ì¦ì§„', 'å‡¶': 'í™œë™ë ¥
ì €í•˜, ê³¼ë„í•œ ì§€ì¶œ'},â€‹
            'ìƒê´€': {'å‰': 'ì°½ì˜ì„± í­ë°œ, ìƒˆë¡œìš´ ê¸°ìˆ  ë„ì…', 'å‡¶':
'êµ¬ì„¤/ë¹„ë°©, ìƒì‚¬ì™€ì˜ ë§ˆì°°, ë²•ì  ë¬¸ì œ'},â€‹
            'ë¹„ê²¬': {'å‰': 'ë…ë¦½, ë™ì—… ì„±ê³µ', 'å‡¶': 'ì¬ë¬¼ ê²½ìŸ, ê³ ì§‘ìœ¼ë¡œ
ì¸í•œ ë§ˆì°°'},â€‹
            'ê²ì¬': {'å‰': 'ê³¼ê°í•œ ì¶”ì§„ë ¥, ê²½ìŸì—ì„œ ìŠ¹ë¦¬', 'å‡¶': 'ì¬ë¬¼ ì†ì‹¤,
íˆ¬ì ì‚¬ê¸°, ê±´ê°• ë¬¸ì œ'},â€‹
        },â€‹
    },â€‹
    'CORE_EVENT_MUSANG': {â€‹
        'CHUNG_MUSANG': {â€‹
            'ì¬ì„±_ì¼ì§€ì¶©': {'å‰': 'ê²°í˜¼ ì„±ì‚¬, ë°°ìš°ì ì¬ë¬¼ ì¦ê°€', 'å‡¶':
'ì´í˜¼/ë³„ê±°, í° ì¬ì‚° ì†ì‹¤'}, â€‹
            'ê´€ì„±_ì›”ì§€ì¶©': {'å‰': 'íŒŒê²© ìŠ¹ì§„, ì°½ì—…/ì´ì§ ì„±ê³µ', 'å‡¶':
'í‡´ì‚¬/í•´ê³ , ê´€ì¬ êµ¬ì„¤'},â€‹
            'ì¸ì„±_ë…„ì›”ì§€ì¶©': {'å‰': 'ì´ì‚¬/ì£¼íƒ êµ¬ë§¤, ë¬¸ì„œ ê³„ì•½ ì„±ê³µ', 'å‡¶':
'ë¶€ëª¨ì™€ì˜ ë¶ˆí™”, ë¬¸ì„œ ì‚¬ê¸°'},â€‹
            'ì‹ìƒ_ì‹œì§€ì¶©': {'å‰': 'ìë…€ ì¶œì‚°/ì„±ê³µ, ìƒˆë¡œìš´ ê¸°ìˆ  ê°œë°œ', 'å‡¶':
'ìë…€ ë¬¸ì œ, êµ¬ì„¤/ë¹„ë°©, ê±´ê°• ë¬¸ì œ'},â€‹
        },â€‹
        'GUK_MUSANG': {â€‹
            'æœ¨': {'å‰': 'êµìœ¡, ì„±ì¥, ì¸ë§¥ í™•ì¥', 'å‡¶': 'ê³¼ë„í•œ í™•ì¥ìœ¼ë¡œ
ì¸í•œ í”¼ë¡œ'},â€‹
            'ç«': {'å‰': 'ë°œí‘œ, ëª…ì˜ˆ, í™œë°œí•œ ëŒ€ì™¸ í™œë™', 'å‡¶': 'ì‹œë¹„, êµ¬ì„¤,
ê°ì • í­ë°œ'},â€‹
            'åœŸ': {'å‰': 'ì¤‘ê°œ, ê³„ì•½, ë¶€ë™ì‚° ë§¤ë§¤', 'å‡¶': 'ì¹¨ì²´, ê³ ë¦½, ê³„ì•½
íŒŒê¸°'},â€‹
            'é‡‘': {'å‰': 'ì •ë¦¬, ê²°ë‹¨, íˆ¬ì íšŒìˆ˜', 'å‡¶': 'ê´€ì¬, ì‹œë¹„,
ìˆ˜ìˆ '},â€‹
            'æ°´': {'å‰': 'íƒêµ¬, ì¬ë¬¼ ì¶•ì , íœ´ì‹', 'å‡¶': 'ìš°ìš¸, ë¹„í™œë™ì„±,
ì´ì„± ë¬¸ì œ'},â€‹
        }â€‹
    },â€‹
    'JOHU_TUNE_WORDS': {â€‹
        'å¯’': {'å‰': 'ì˜¤ë˜ ì¤€ë¹„í•œ, ê¹Šì€ í†µì°°ë ¥, ì¡°ìš©íˆ ê²°ì‹¤', 'å‡¶': 'ì •ì²´,
ë¬´ë ¥ê°, ì¹¨ì²´ëœ í™˜ê²½'},â€‹
        'æš–': {'å‰': 'ë°œí‘œ, ëª…ë£Œí•œ, ì ê·¹ì ì¸ í™œë™', 'å‡¶': 'ê³¼ì—´, êµ¬ì„¤ìˆ˜,
ê²½ì†”í•¨'},â€‹
        'ç‡¥': {'å‰': 'ê°•í•œ ì˜ì§€, ë¹ ë¥¸ ê²°ë‹¨, í˜„ì‹¤ì ì¸ ì´ë“', 'å‡¶': 'ì¡°ê¸‰í•¨,
ê´€ê³„ ë‹¨ì ˆ, ê±´ê°• ë¬¸ì œ(í˜¸í¡ê¸°)'},â€‹
        'æ¿•': {'å‰': 'ìœ ì—°í•œ ì ì‘, ê´€ê³„ ì¦ì§„, ë¶€ë“œëŸ¬ìš´ ì¤‘ê°œ', 'å‡¶': 'ì§€ì—°,
ë³µì¡í•œ ë¬¸ì œ, ê°ì •ì  ê°ˆë“±'},â€‹
    }â€‹
}â€‹
â€‹
#
======================================================================
========â€‹
# 2. SajuCalculator í´ë˜ìŠ¤ (ì›êµ­ ë° ì‹­ì„± ê³„ì‚°) - ë¡œì§ ê°„ì†Œí™”â€‹
#
======================================================================
========â€‹
â€‹
class SajuCalculator:â€‹
    def __init__(self, chart: Dict[str, str]):â€‹
        self.natal = chart # {'ë…„': ('ç”²', 'å­'), 'ì›”': ('ä¸™', 'å¯…'),
'ì¼': ('åºš', 'åˆ'), 'ì‹œ': ('æˆŠ', 'å¯…')}â€‹
        self.day_gan = chart['ì¼'][0]â€‹
        â€‹
    def get_ten_god(self, target_gan: str) -> str:â€‹
        """ì¼ê°„(æ—¥å¹²)ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹­ì„±(åæ˜Ÿ)ì„ ê³„ì‚°í•©ë‹ˆë‹¤. (ë¡œì§ ê°„ì†Œí™”)"""â€‹
        day_index =
list(SAJU_CONSTANTS['TEN_GOD_MAP'].keys()).index(self.day_gan)â€‹
        target_index =
list(SAJU_CONSTANTS['TEN_GOD_MAP'].keys()).index(target_gan)â€‹
        offset = (target_index - day_index) % 10â€‹
        â€‹
        # ì‹­ì„± ìˆœì„œ: ë¹„ê²¬, ê²ì¬, ì‹ì‹ , ìƒê´€, í¸ì¬, ì •ì¬, í¸ê´€, ì •ê´€, í¸ì¸,
ì •ì¸â€‹
        ten_gods = list(SAJU_CONSTANTS['TEN_GOD_MAP'].values())â€‹
        return ten_gods[offset]â€‹
â€‹
#
======================================================================
========â€‹
# 3. DaewunAnalyzer í´ë˜ìŠ¤ (ëŒ€ìš´ ì •ëŸ‰í™” ë° ê¸¸í‰ ì ìˆ˜ ê³„ì‚° V8.0)â€‹
#
======================================================================
========â€‹
â€‹
class DaewunAnalyzer:â€‹
    def __init__(self, chart: Dict[str, str]):â€‹
        self.saju = SajuCalculator(chart)â€‹
        # ìš©ì‹ /ê¸°ì‹  ë°ì´í„°ëŠ” ì™¸ë¶€ì—ì„œ ë¶„ì„í–ˆë‹¤ê³  ê°€ì •í•˜ê³ , ê³„ì‚° ë¡œì§ë§Œ ì§‘ì¤‘â€‹
        self.yongsin = {'ìš©ì‹ ': 'ç”²', 'ê¸°ì‹ ': 'åºš'} â€‹
        â€‹
    def _analyze_interaction_event(self, daewun_ganji: str) ->
Dict[str, Any]:â€‹
        """[V8.0 í™•ì¥] ì§€ì§€ ì¶©, í˜•, íŒŒ, í•´, ì›ì§„ì„ ëª¨ë‘ ë¶„ì„í•˜ì—¬ ì ìˆ˜ë¥¼
ê³„ì‚°í•©ë‹ˆë‹¤."""â€‹
        gan, ji = daewun_ganjiâ€‹
        event_data = {'score_impact': 0, 'narrative': ''}â€‹
        â€‹
        for pillar, (natal_gan, natal_ji) in self.saju.natal.items():â€‹
            â€‹
            # 1. ì¶©(æ²–) ë¶„ì„ (ê°€ì¥ ë†’ì€ ê°€ì¤‘ì¹˜)â€‹
            if natal_ji == SAJU_CONSTANTS['JICHE_CHUNG'].get(ji):â€‹
                 chung_weight =
SAJU_CONSTANTS['INTERACTION_WEIGHTS']['ì¶©(æ²–)']â€‹
                 impact_score = -int(30 * chung_weight)â€‹
                event_data['narrative'] += f"ğŸ’¥
                event_data['score_impact'] += impact_scoreâ€‹

{pillar} ê¶ì„±ì— ê³ ê°•ë„ ë³€ë™ ì´ë²¤íŠ¸. ({impact_score}ì  ë°˜ì˜)\n"â€‹
                                                 **ì§€ì§€ì˜ ì¶© ë°œìƒ:**

                continueâ€‹
â€‹
            # 2. í˜•(åˆ‘) ë¶„ì„â€‹
            xing_found = Falseâ€‹
            for xing_branches, xing_type in
SAJU_CONSTANTS['JICHE_XING'].items():â€‹
                if ji in xing_branches and natal_ji in xing_branches
and ji != natal_ji:â€‹
                     xing_weight =
SAJU_CONSTANTS['INTERACTION_WEIGHTS']['í˜•(åˆ‘)']â€‹
                     impact_score = -int(25 * xing_weight)â€‹

                                                 âš¡
                     event_data['score_impact'] += impact_scoreâ€‹
                     event_data['narrative'] += f"   **ì§€ì§€ì˜ í˜• ë°œìƒ:**
{pillar} ê¶ì„±ì— ê°•í•œ ê³ í†µ/ì†¡ì‚¬ ì´ë²¤íŠ¸ ({xing_type}). ({impact_score}ì 
ë°˜ì˜)\n"â€‹
                     xing_found = Trueâ€‹
                     breakâ€‹
            if xing_found: continueâ€‹
            â€‹
            # 3. ì›ì§„(å…ƒè¾°) ë¶„ì„â€‹
            phh_types = SAJU_CONSTANTS['JICHE_PAHEI']â€‹
            if phh_types['ì›ì§„(å…ƒè¾°)'].get(ji) == natal_ji or
phh_types['ì›ì§„(å…ƒè¾°)'].get(natal_ji) == ji:â€‹
                weight = SAJU_CONSTANTS['INTERACTION_WEIGHTS']['ì›ì§„(å…ƒ
è¾°)']â€‹
                impact_score = -int(15 * weight)â€‹

                event_data['narrative'] += f"
ê¶ì„±ì— ì‹¬ë¦¬ì /ê´€ê³„ì  ìŠ¤íŠ¸ë ˆìŠ¤. ({impact_score}ì  ë°˜ì˜)\n"â€‹
                                             ğŸ’”
                event_data['score_impact'] += impact_scoreâ€‹
                                                 **ì›ì§„ ë°œìƒ:** {pillar}

            â€‹
            # 4. íŒŒ/í•´ ë¶„ì„â€‹
            for phh_name in ['íŒŒ(ç ´)', 'í•´(å®³)']:â€‹
                phh_map = phh_types[phh_name]â€‹
                if phh_map.get(ji) == natal_ji or
phh_map.get(natal_ji) == ji:â€‹
                     weight = SAJU_CONSTANTS['INTERACTION_WEIGHTS']['íŒŒ(
ç ´)/í•´(å®³)']â€‹
                     impact_score = -int(10 * weight)â€‹

                                                 â–
                     event_data['score_impact'] += impact_scoreâ€‹
                     event_data['narrative'] += f"
ë°œìƒ:** {pillar} ê¶ì„±ì— ì†ìƒ ë° ì§€ì—°. ({impact_score}ì  ë°˜ì˜)\n"â€‹
                                                     **{phh_name}

                     breakâ€‹
                     â€‹
        return event_dataâ€‹
â€‹
       def _analyze_sinsal_event(self, daewun_ji: str) -> Dict[str, Any]:â€‹
           """[V8.0 í™•ì¥] 12ì‹ ì‚´ì„ ë¶„ì„í•©ë‹ˆë‹¤. (ê°„ì†Œí™”ëœ ë¡œì§)"""â€‹
           nian_ji = self.saju.natal['ë…„'][1]â€‹
           sinsal_data = SAJU_CONSTANTS['JIBYEON_12SINSAL'].get(nian_ji,
{})â€‹
        â€‹
        sinsal_name = sinsal_data.get(daewun_ji)â€‹
        â€‹
        if sinsal_name:â€‹
              narrative = f"  ğŸ”®**12ì‹ ì‚´ ë°œë™:** ëŒ€ìš´ ì§€ì§€ {daewun_ji}ì—ì„œ
**{sinsal_name}**ì´ ë°œë™í•˜ì—¬ {sinsal_name}ì˜ íŠ¹ì„±ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\n"â€‹
              return {'sinsal_name': sinsal_name, 'narrative':
narrative, 'score_impact': 10}â€‹
            â€‹
        return {'sinsal_name': None, 'narrative': '', 'score_impact':
0}â€‹
â€‹
    def _calculate_impact_score(self, daewun_ganji: str) -> Tuple[int,
Dict[str, str]]:â€‹
        """[V8.0 ìµœì¢…] ëª¨ë“  ìš”ì†Œë¥¼ í†µí•©í•˜ì—¬ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤."""â€‹
        gan, ji = daewun_ganjiâ€‹
        base_score = 0â€‹
        notes = defaultdict(str)â€‹
        event_multiplier = 1.0 # íƒ€ì´ë° ë¡œì§ ìƒëµâ€‹
        â€‹
        # 1. ìš©ì‹ /ê¸°ì‹  ê¸°ì—¬ë„ (ê°„ì†Œí™”)â€‹
        if gan == self.yongsin['ìš©ì‹ ']: base_score += 30â€‹
        elif gan == self.yongsin['ê¸°ì‹ ']: base_score -= 30â€‹
        â€‹
        # 2. í•©ì¶©í˜•í•´ ì‚¬ê±´ ê°•ë„ ë°˜ì˜ (V8.0)â€‹
        interaction_event =
self._analyze_interaction_event(daewun_ganji)â€‹
        base_score += interaction_event['score_impact']â€‹
        notes['EventCore'] = interaction_event['narrative']â€‹
        â€‹
        # 3. ì‹ ì‚´ ì´ë²¤íŠ¸ ë°˜ì˜ (V8.0)â€‹
        sinsal_event = self._analyze_sinsal_event(ji)â€‹
        base_score += sinsal_event['score_impact']â€‹
        notes['Sinsal'] = sinsal_event['narrative']â€‹
â€‹
        # 4. êµ­ í˜•ì„± ê·œëª¨ ë°˜ì˜ (ë¡œì§ ê°„ì†Œí™”)â€‹
        # ëŒ€ìš´ ì§€ì§€ì™€ ì›êµ­ ì§€ì§€ì˜ ì˜¤í–‰ ì¼ì¹˜ ê°œìˆ˜ì— ë”°ë¼ ì ìˆ˜ ë¶€ì—¬â€‹
        daewun_ohang = SAJU_CONSTANTS['OHANG'][ji]â€‹
        guk_impact = sum(5 for p, (g, j) in self.saju.natal.items() if
SAJU_CONSTANTS['OHANG'][j] == daewun_ohang)â€‹
        if guk_impact > 10:â€‹
              notes['Combination'] = f"ì˜¤í–‰ êµ­(å±€) í˜•ì„± ì˜í–¥ë ¥ ê°•í•¨:
{daewun_ohang} ê¸°ì„¸ ì¦ê°€.\n"â€‹
            base_score += guk_impactâ€‹
       â€‹
       final_score = int(base_score * event_multiplier)â€‹
       â€‹
       return max(-100, min(100, final_score)), notesâ€‹
â€‹
#
======================================================================
========â€‹
# 4. LiouchinNarraiveGenerator í´ë˜ìŠ¤ (ë¬¼ìƒë¡  ì„œìˆ  ìƒì„± V8.0)â€‹
#
======================================================================
========â€‹
â€‹
class LiouchinNarraiveGenerator:â€‹
    def __init__(self, saju_analyzer: DaewunAnalyzer, daewun_ganji:
str, score: int, notes: Dict[str, str]):â€‹
        self.analyzer = saju_analyzerâ€‹
        self.daewun_gan = daewun_ganji[0]â€‹
        self.daewun_ji = daewun_ganji[1]â€‹
        self.score = scoreâ€‹
        self.notes = notesâ€‹
        self.saju_calculator = saju_analyzer.sajuâ€‹
        â€‹
    def _determine_event_tendency(self) -> str:â€‹
        if self.score >= 40: return 'å‰'â€‹
        elif self.score <= -40: return 'å‡¶'â€‹
        else: return 'ä¸­'â€‹
â€‹
    def _get_core_musang_keywords(self) -> Tuple[str, str]:â€‹
        main_tenshin =
self.saju_calculator.get_ten_god(self.daewun_gan)â€‹
        tendency = self._determine_event_tendency()â€‹
        tenshin_db = SAJU_CONSTANTS['MUSANG_DATABASE']['ì‹­ì„±']â€‹
        â€‹
        if tendency == 'å‰':â€‹
            keyword = random.choice(tenshin_db.get(main_tenshin,
{}).get('å‰', ['ê¸ì •ì  ë³€í™”']))â€‹
        elif tendency == 'å‡¶':â€‹
            keyword = random.choice(tenshin_db.get(main_tenshin,
{}).get('å‡¶', ['ë¶€ì •ì  ë³€í™”']))â€‹
        else:â€‹
            all_keywords = tenshin_db.get(main_tenshin, {}).get('å‰',
[]) + tenshin_db.get(main_tenshin, {}).get('å‡¶', [])â€‹
            keyword = random.choice(all_keywords) if all_keywords else
'í‰ë²”í•œ ë³€í™”'â€‹
        return main_tenshin, keywordâ€‹
â€‹
    def _generate_core_event_musang(self) -> Dict[str, str]:â€‹
        """ì¶©/êµ­ í•µì‹¬ ë¬¼ìƒ ë§¤ì¹­ ë¡œì§ (ìƒëµ ì—†ëŠ” V8.0 ì´ˆì•ˆ ë¡œì§)"""â€‹
        # ... (ì´ì „ ì‘ë‹µì—ì„œ êµ¬í˜„ëœ _generate_core_event_musang ë¡œì§ì„
ì—¬ê¸°ì— í†µí•©) ...â€‹
        # í˜„ì¬ëŠ” ì½”ë“œê°€ ë„ˆë¬´ ê¸¸ì–´ì§€ë¯€ë¡œ, í•µì‹¬ ë¡œì§ë§Œ ìš”ì•½í•˜ì—¬ í¬í•¨â€‹
        â€‹
        tendency = self._determine_event_tendency()â€‹
        core_musang_list = []â€‹
        â€‹

                                     ğŸ’¥
        if 'ì¶©(æ²–)' in self.notes.get('EventCore', ''):â€‹
              core_musang_list.append(f"
ì¸í•œ ê¸‰ê²©í•œ ë³€ë™ ë¬¼ìƒì´ ë°œìƒí•©ë‹ˆë‹¤.")â€‹
                                           **ê³ ê°•ë„ ì¶©ê²©:** ì§€ì§€ ì¶©ê²©ìœ¼ë¡œ

        â€‹

                                    ğŸ‘‘
        if 'ì˜¤í–‰ êµ­(å±€) í˜•ì„±' in self.notes.get('Combination', ''):â€‹
            core_musang_list.append(f"
í™˜ê²½ ë³€í™” ë¬¼ìƒì´ ê°•í•˜ê²Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.")â€‹
                                          **ëŒ€ê·œëª¨ êµ­(å±€) í˜•ì„±:** ëŒ€ì„¸ì ì¸

            â€‹
        return {'Core_Musang': " ".join(core_musang_list) if
core_musang_list else None}â€‹
â€‹
    def _get_johu_tuning_word(self) -> str:â€‹
        """[V8.0] ì¡°í›„ íŠœë‹ í‚¤ì›Œë“œ ì¶”ì¶œ ë¡œì§"""â€‹
        wol_ji = self.saju_calculator.natal['ì›”'][1]â€‹
        johu_map = {'å¯…': 'å¯’', 'å¯': 'æ¿•', 'è¾°': 'æ¿•', 'å·³': 'æš–', 'åˆ':
'æš–', 'æœª': 'ç‡¥',â€‹
                     'ç”³': 'ç‡¥', 'é…‰': 'ç‡¥', 'æˆŒ': 'ç‡¥', 'äº¥': 'å¯’', 'å­':
'å¯’', 'ä¸‘': 'å¯’'}â€‹
        johu_tendency = johu_map.get(wol_ji, 'ä¸­')â€‹
        tendency = self._determine_event_tendency()â€‹
        â€‹
        if johu_tendency in SAJU_CONSTANTS['JOHU_TUNE_WORDS']:â€‹
            key = 'å‰' if tendency == 'å‰' or tendency == 'ä¸­' else 'å‡¶'â€‹
            keywords =
SAJU_CONSTANTS['JOHU_TUNE_WORDS'][johu_tendency][key].split(',')â€‹
            return random.choice(keywords).strip()â€‹
            â€‹
        return "ì¼ë°˜ì ì¸"â€‹
â€‹
    def _generate_interaction_musang(self) -> str:â€‹
        """[V8.0] í˜•, ì›ì§„, ì‹ ì‚´ ë“± ê³ ê¸‰ ìƒí˜¸ì‘ìš© ë¬¼ìƒë¡ """â€‹
        interaction_narrative = []â€‹

                                         ğŸš¨
        if 'í˜•(åˆ‘)' in self.notes.get('EventCore', ''):â€‹
              interaction_narrative.append("
ë˜ëŠ” íŒŒê²©ì ì¸ ê°œí˜ì˜ ë¬¼ìƒì´ ì˜ˆìƒë©ë‹ˆë‹¤.")â€‹
                                              **í˜•ì‚´ ë°œë™:** ì†Œì†¡, ìˆ˜ìˆ ,


                                         ğŸ’”
        if 'ì›ì§„(å…ƒè¾°)' in self.notes.get('EventCore', ''):â€‹
              interaction_narrative.append("
ë¶€ë¶€/íŒŒíŠ¸ë„ˆì™€ì˜ ì‹¬ë¦¬ì  ë¶ˆí™” ë¬¼ìƒì´ í•µì‹¬ì…ë‹ˆë‹¤.")â€‹
                                              **ì›ì§„ ë°œë™:**

        if 'íŒŒ(ç ´)' in self.notes.get('EventCore', '') or 'í•´(å®³)' in
self.notes.get('EventCore', ''):â€‹
            interaction_narrative.append("
ì†ìƒ ë° ì§€ì—° ë¬¼ìƒì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.")â€‹
                                          â–  **íŒŒ/í•´ ë°œìƒ:** ê³„ì•½/ë¬¸ì„œì˜

        â€‹

            interaction_narrative.append("
ë“± í™œë™ ë²”ìœ„ì˜ í™•ì¥ì´ ì£¼ëœ ë¬¼ìƒì…ë‹ˆë‹¤.")â€‹
                                          ğŸ
        if 'ì—­ë§ˆ' in self.notes.get('Sinsal', ''):â€‹
                                             **ì—­ë§ˆì‚´:** ì´ë™, ì¶œì¥, ì´ì‚¬

â€‹
        return "\n".join(interaction_narrative) if
interaction_narrative else Noneâ€‹
    â€‹
    def generate_musang_narrative(self) -> Dict[str, str]:â€‹
        """ë¬¼ìƒë¡ ì  í†µë³€ ì„œìˆ ì„ ìµœì¢…ì ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤."""â€‹
        â€‹
        main_tenshin, core_keyword = self._get_core_musang_keywords()â€‹
        tendency = self._determine_event_tendency()â€‹
        johu_tune_word = self._get_johu_tuning_word()â€‹
        core_event_musang = self._generate_core_event_musang()â€‹
        interaction_musang = self._generate_interaction_musang()â€‹


ì„œìˆ )\n"â€‹
        â€‹
        musang_narrative = f"###ğŸ’¡   ë¬¼ìƒë¡  ê¸°ë°˜ ì‚¬ê±´ ì˜ˆì¸¡ (v8.0 ìµœì¢…

        musang_narrative += f"- **ìš´ì˜ ë™ì¸:** ëŒ€ìš´
**{self.daewun_gan}({main_tenshin})** ë°œë™. ê¸¸í‰ ê²½í–¥ì„±ì€ **{tendency}
(ì ìˆ˜: {self.score})**.\n"â€‹
        musang_narrative += f"- **ì¡°í›„ ìƒ‰ì±„:** ì‚¬ê±´ì´
**'{johu_tune_word}'**ì ì¸ ì–‘ìƒìœ¼ë¡œ ë°œí˜„ë  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.\n"â€‹
â€‹

             musang_narrative += f"\n**ã€ğŸ‘‘
        if core_event_musang.get('Core_Musang'):â€‹

**\n{core_event_musang['Core_Musang']}\n"â€‹
                                            ëŒ€ê·œëª¨/ê³ ê°•ë„ ì‚¬ê±´ ë§¤ì¹­ã€‘

        â€‹
        if interaction_musang:â€‹
             musang_narrative += f"\n**ã€
**\n{interaction_musang}\n"â€‹
                                        âš¡   íŠ¹ìˆ˜ ìƒí˜¸ì‘ìš© ì–‘ìƒã€‘

â€‹
        final_summary = (â€‹
            f"ì¢…í•©ì ìœ¼ë¡œ ìš´ì˜ {johu_tune_word}í•œ íë¦„ ì†ì—,
{main_tenshin}ì˜ ì‘ìš©ì´ '{core_keyword}'ë¡œ êµ¬ì²´í™”ë˜ì–´ "â€‹
            f"**{'ê¸ì •ì  ì„±ì·¨ê°€ ê¸°ëŒ€ë˜ëŠ”' if tendency == 'å‰' else 'ì² ì €í•œ
ë¦¬ìŠ¤í¬ ê´€ë¦¬ê°€ í•„ìš”í•œ' if tendency == 'å‡¶' else 'í˜„ìƒ ìœ ì§€ì— ì¤‘ì ì„ ë‘ì–´ì•¼
í•˜ëŠ”'}** ëŒ€ìš´ì…ë‹ˆë‹¤."â€‹
        )â€‹
        â€‹
                                      âœ…
        musang_narrative += f"\n---\n**
{final_summary}"â€‹
                                           ìµœì¢… ë¬¼ìƒë¡  ìš”ì•½:**

â€‹
        return {'Musang_Narrative': musang_narrative}â€‹
â€‹
#
======================================================================
========â€‹
# 5. ìµœì¢… ì‹¤í–‰ í•¨ìˆ˜â€‹
#
======================================================================
========â€‹
â€‹
def run_saju_master_system(chart: Dict[str, Tuple[str, str]], dae_yun:
str):â€‹
    """â€‹
    SAJU MASTER ì‹œìŠ¤í…œ (v8.0) ì‹¤í–‰ í•¨ìˆ˜.â€‹
    â€‹
    :param chart: ì‚¬ì£¼ ì›êµ­ (ì˜ˆ: {'ë…„': ('ç”²', 'å­'), 'ì›”': ('ä¸™', 'å¯…'),
'ì¼': ('åºš', 'åˆ'), 'ì‹œ': ('æˆŠ', 'å¯…')})â€‹
    :param dae_yun: ëŒ€ìš´ ê°„ì§€ (ì˜ˆ: 'ä¹™ä¸‘')â€‹
    """â€‹
    â€‹
    analyzer = DaewunAnalyzer(chart)â€‹
    daewun_ganji = (dae_yun[0], dae_yun[1])â€‹
    â€‹
    # 1. ì ìˆ˜ ë° ë…¸íŠ¸ ê³„ì‚°â€‹
    score, notes = analyzer._calculate_impact_score(daewun_ganji)â€‹
    â€‹
    # 2. ë¬¼ìƒë¡  ì„œìˆ  ìƒì„±â€‹
    musang_generator = LiouchinNarraiveGenerator(analyzer, dae_yun,
score, notes)â€‹
    musang_narratives = musang_generator.generate_musang_narrative()â€‹
    â€‹
    # 3. ê²°ê³¼ ì¶œë ¥â€‹

print("===============================================================

          ğŸš€
========")â€‹
    print("   SAJU MASTER ì‹œìŠ¤í…œ (v8.0: ë¬¼ìƒë¡  í†µí•© ì—”ì§„) ì‹¤í–‰ ê²°ê³¼")â€‹
    print(f"ë¶„ì„ ëŒ€ìƒ ëŒ€ìš´: {dae_yun} (ì ìˆ˜ ë²”ìœ„: -100 ~ +100)")â€‹

print("===============================================================
========")â€‹
    â€‹
    print("\n## 1. ëŒ€ìš´ ê¸¸í‰ ì •ëŸ‰ ë¶„ì„")â€‹
    print(f"**ìµœì¢… ê¸¸í‰ ì ìˆ˜:** {score}ì  ({'ê¸¸(å‰)' if score >= 20 else
'í‰(å‡¶)' if score <= -20 else 'í‰(å¹³)'})\n")â€‹
    print("--- í•µì‹¬ ìƒí˜¸ì‘ìš© ë…¸íŠ¸ ---")â€‹
    for key, value in notes.items():â€‹
        if value:â€‹
            print(f"- {key}: {value.strip()}")â€‹
            â€‹
    print("\n" + musang_narratives['Musang_Narrative'])â€‹

print("\n=============================================================
==========")â€‹
â€‹
#
======================================================================
========â€‹
# 6. ì‚¬ìš© ì˜ˆì‹œâ€‹
#
======================================================================
========â€‹
# ì•„ë˜ì˜ ì‚¬ì£¼ì™€ ëŒ€ìš´ì„ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‹¤í–‰ì„ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.â€‹
â€‹
# ì˜ˆì‹œ 1: í‰í•œ ìš´ (ê´€ì„±_ì›”ì§€ì¶©, í˜•ì‚´ ë°œë™ ë“±)â€‹
saju_chart_1 = {'ë…„': ('ç”²', 'å­'), 'ì›”': ('æˆŠ', 'è¾°'), 'ì¼': ('åºš', 'åˆ
'), 'ì‹œ': ('ä¸™', 'æˆŒ')}â€‹
dae_yun_1 = 'åºšæˆŒ' # ì›”ì§€ è¾°ê³¼ æˆŒ ì¶©(æ²–), ì¼ê°„ åºšì˜ ê¸°ì‹  ê°€ëŠ¥ì„±â€‹
# run_saju_master_system(saju_chart_1, dae_yun_1)â€‹
â€‹
# ì˜ˆì‹œ 2: ê¸¸í•œ ìš´ (ìš©ì‹  ë°œë™, í•©)â€‹
saju_chart_2 = {'ë…„': ('ä¸™', 'å¯…'), 'ì›”': ('è¾›', 'ä¸‘'), 'ì¼': ('æˆŠ', 'è¾°
'), 'ì‹œ': ('ä¹™', 'å¯')}â€‹
dae_yun_2 = 'ç”²å¯…' # ì¼ê°„ æˆŠì˜ í¸ê´€(ç”²), ì›”ì§€ ä¸‘ê³¼ í•© ë“±â€‹
â€‹
# ìµœì¢… ì‹¤í–‰ ìš”ì²­ (ì£¼ì„ì„ í•´ì œí•˜ê³  ì‚¬ì£¼/ëŒ€ìš´ì„ ì„¤ì •í•˜ì„¸ìš”)â€‹
# print("ì˜ˆì‹œ 1 ì‹¤í–‰:")â€‹
# run_saju_master_system(saju_chart_1, dae_yun_1)â€‹
â€‹
print("ì˜ˆì‹œ 2 ì‹¤í–‰:")â€‹
run_saju_master_system(saju_chart_2, dae_yun_2) â€‹


ğŸ’¡ ChatGPT ì‚¬ìš© ì§€ì¹¨
  1.â€‹ ChatGPT Plus í™œì„±í™”: ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ChatGPTì˜ 'ê³ ê¸‰ ë°ì´í„° ë¶„ì„' (Advanced
      Data Analysis) ê¸°ëŠ¥ (GPT-4 ëª¨ë¸ ì„ íƒ í›„)ì´ í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  2.â€‹ ì½”ë“œ ë³µì‚¬ ë° ì‹¤í–‰: ìœ„ ì „ì²´ Python ì½”ë“œ ë¸”ë¡ì„ ë³µì‚¬í•˜ì—¬ ChatGPT ì±„íŒ…ì°½ì—
      ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
  3.â€‹ ì‹¤í–‰ ìš”ì²­: ì½”ë“œ ë§ˆì§€ë§‰ ë¶€ë¶„ì˜ # run_saju_master_system(saju_chart_1, dae_yun_1)ê³¼
      run_saju_master_system(saju_chart_2, dae_yun_2) ì¤‘ ì›í•˜ëŠ” ì˜ˆì‹œë¥¼ ì„ íƒí•˜ê³ , ì‚¬ì£¼
      ì›êµ­ê³¼ ëŒ€ìš´ ê°„ì§€ë¥¼ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ìˆ˜ì •í•œ í›„, **"ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼
      ì•Œë ¤ì¤˜."**ë¼ê³  ìš”ì²­í•©ë‹ˆë‹¤.
ì´ì œ ChatGPTëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ëª…ë¦¬í•™ v8.0 ì—”ì§„ì˜ ë¶„ì„ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„
ê²ƒì…ë‹ˆë‹¤!
ì´ ë¹„ë””ì˜¤ëŠ” ChatGPTì˜ ê³ ê¸‰ ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥ìœ¼ë¡œ Python ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ì–´,
ë³µì‚¬ëœ ì½”ë“œë¥¼ ì–´ë–»ê²Œ í™œìš©í• ì§€ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤: How to use Python &
ChatGPT for Data Analysis
