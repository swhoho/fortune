# ë‹¤êµ­ì–´(i18n) ì‹œìŠ¤í…œ

> next-intl ê¸°ë°˜ 5ê°œ ì–¸ì–´ ì§€ì› (ko, en, ja, zh-CN, zh-TW)

## í•µì‹¬ ì›ì¹™

> **ë¦¬í¬íŠ¸ ê²°ê³¼ëŠ” ë¶„ì„ ì‹œì  ì–¸ì–´ë¡œ DB ì €ì¥ (ë‚˜ì¤‘ì— ë²ˆì—­ X)**

- UI ë¼ë²¨(ì„¹ì…˜ ì œëª©, íƒ­ëª…)ë§Œ ë™ì  ë‹¤êµ­ì–´í™”
- AI ë¶„ì„ ê²°ê³¼ëŠ” ì €ì¥ëœ ì–¸ì–´ ê·¸ëŒ€ë¡œ í‘œì‹œ

---

## í•µì‹¬ íŒŒì¼ ìœ„ì¹˜

| êµ¬ë¶„ | íŒŒì¼ |
|------|------|
| ë¼ìš°íŒ… ì„¤ì • | `src/i18n/routing.ts` |
| ì„œë²„ ìš”ì²­ | `src/i18n/request.ts` |
| ë¯¸ë“¤ì›¨ì–´ | `src/middleware.ts` |
| ë©”ì‹œì§€ íŒŒì¼ | `locales/{ko,en,ja,zh-CN,zh-TW}.json` |
| Python ë‹¤êµ­ì–´ | `python/prompts/locale_strings.py` |

---

## ì‚¬ìš© íŒ¨í„´ (Quick Reference)

```typescript
// í´ë¼ì´ì–¸íŠ¸
import { useTranslations, useLocale } from 'next-intl';
const t = useTranslations('namespace');
const locale = useLocale();

// ì„œë²„
import { getTranslations } from 'next-intl/server';
const t = await getTranslations({ locale, namespace: 'metadata' });

// ë„¤ë¹„ê²Œì´ì…˜ (next/link ëŒ€ì‹ )
import { Link, useRouter } from '@/i18n/routing';

// ë°°ì—´ ë©”ì‹œì§€
const tips = t.raw('tips') as string[];
```

---

## Todo ë¦¬ìŠ¤íŠ¸

### Phase 1: API Language ë™ì  ì „ë‹¬ âœ… ì™„ë£Œ

| Task | íŒŒì¼ | ìƒíƒœ |
|------|------|------|
| 1.1 Report API | `src/app/api/profiles/[id]/report/route.ts` | âœ… |
| 1.1 Report í”„ë¡ íŠ¸ | `src/app/[locale]/profiles/[id]/generating/page.tsx` | âœ… |
| 1.2 Yearly | `src/app/[locale]/analysis/yearly/processing/page.tsx` | âœ… |
| 1.3 Compatibility | `src/app/[locale]/compatibility/romance/new/page.tsx` | âœ… |

> **ì°¸ê³ **: `useLocale()` â†’ API body `language` â†’ Python íŒ¨í„´ ì ìš©

---

### Phase 2: UI ë¼ë²¨ ë‹¤êµ­ì–´í™”

| Task | íŒŒì¼ | ìƒíƒœ |
|------|------|------|
| 2.1 Report íƒ­/ì„¹ì…˜ | `ReportNavigation.tsx`, `PersonalitySection.tsx`, `DaewunDetailSection.tsx` ë“± | â³ |
| 2.2 Yearly ì„¹ì…˜ | `YearlyAdviceCard.tsx`, `MonthlyTimeline.tsx`, `FailedSectionCard.tsx` | âœ… |
| 2.3 Compatibility | `src/app/[locale]/compatibility/*/page.tsx` | ğŸ”„ ì§„í–‰ì¤‘ |

> **2.2 ì™„ë£Œ (2026-01-14)**: 6ê°œ ì„¹ì…˜ ë¼ë²¨, ìƒë°˜ê¸°/í•˜ë°˜ê¸° íƒ­, ì›”ë³„ íƒ€ì„ë¼ì¸, ì‹¤íŒ¨ ì„¹ì…˜ ì¹´ë“œ ë‹¤êµ­ì–´í™”

> **2.3 ì§„í–‰ì¤‘ (2026-01-14)**: ê²°ê³¼ í˜ì´ì§€ ì£¼ìš” ì„¹ì…˜(ScoreTab, AnalysisTab, CompareTab) ì™„ë£Œ. InteractionDisplay ì„¸ë¶€ í…ìŠ¤íŠ¸ëŠ” ì¶”í›„ ì‘ì—… í•„ìš”.

### Phase 3: ê²°ì œ í˜ì´ì§€

| Task | íŒŒì¼ |
|------|------|
| 3.1 ê²°ì œ í˜ì´ì§€ | `src/app/[locale]/payment/page.tsx` |
| 3.2 ê²°ì œìˆ˜ë‹¨ ë¼ë²¨ | `src/lib/portone.ts` |
| 3.3 ê²°ì œ ì„±ê³µ | `src/app/[locale]/payment/success/page.tsx` |
| 3.4 locales í™•ì¥ | `locales/*.json` payment ì„¹ì…˜ |

### Phase 4: ê³µí†µ ë° ë§ˆë¬´ë¦¬

| Task | íŒŒì¼ |
|------|------|
| 4.1 í¬ë ˆë”§ ë‹¤ì´ì–¼ë¡œê·¸ | `src/components/credits/CreditDeductionDialog.tsx` |
| 4.2 Python í™•ì¥ | `python/prompts/locale_strings.py`, `compatibility_prompts.py` |
| 4.3 locales ë™ê¸°í™” | 5ê°œ JSON ëˆ„ë½ í‚¤ ê²€ì¶œ |

---

**Version**: 2.2.0
**Last Updated**: 2026-01-14
